"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[550],{7550:(j,f,s)=>{s.r(f),s.d(f,{TipoSolicitudModule:()=>Y});var T=s(9808),Z=s(1813),n=s(3075),u=s(2340),t=s(7587),m=s(7948),c=s(9783),h=s(1424),d=s(845),l=s(1497);let y=(()=>{class i{constructor(e,o,a){this.fb=e,this.pqrsService=o,this.messageService=a,this.API_URI=u.N.API_URI,this.form=this.fb.group({tipo:["",n.kI.required]})}ngOnInit(){this.token=localStorage.getItem("token")}onSubmit(){try{this.pqrsService.createPqrs(`${this.API_URI}/pqrs/tipo/create/`,this.form.value,this.token).subscribe(e=>{this.form.reset(),this.messageService.add({severity:"success",summary:"Success",detail:"Creado correctamente !!!"})})}catch(e){this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema"})}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(n.qu),t.Y36(m.K),t.Y36(c.ez))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-crear"]],decls:7,vars:1,consts:[[1,"main"],[3,"formGroup","submit"],["type","text","placeholder","Nombre","pInputText","","formControlName","tipo"],["pButton","","pRipple","","type","submit","label","Crear tipo",1,"p-button-success"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t._uU(2,"Crear tipo de solicitud"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("submit",function(){return o.onSubmit()}),t._UZ(4,"input",2),t._UZ(5,"button",3),t.qZA(),t.qZA(),t._UZ(6,"p-toast")),2&e&&(t.xp6(3),t.Q6J("formGroup",o.form))},directives:[n._Y,n.JL,n.sg,n.Fj,h.o,n.JJ,n.u,d.Hq,l.FN],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}form[_ngcontent-%COMP%]{width:500px;border:1px solid rgba(128,128,128,.555);border-radius:10px;padding:20px;display:flex;justify-content:center;align-items:center;flex-direction:column}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:10px;width:100%}"]}),i})();var p=s(6697),_=s(5315);function q(i,r){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th",9),t._uU(2,"Indice"),t.qZA(),t.TgZ(3,"th",10),t._uU(4,"ID "),t._UZ(5,"p-sortIcon",11),t.qZA(),t.TgZ(6,"th",12),t._uU(7,"Nombre "),t._UZ(8,"p-sortIcon",13),t.qZA(),t.TgZ(9,"th",9),t._uU(10,"Editar"),t.qZA(),t.qZA())}function A(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"button",14),t.NdJ("click",function(){const g=t.CHM(e).$implicit;return t.oxw().showEditar(g.id)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit,o=r.rowIndex;t.xp6(2),t.Oqu(o),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.tipo)}}const C=function(){return{"min-width":"60rem"}},S=function(){return{width:"40vw",height:"40vh"}};let I=(()=>{class i{constructor(e,o,a){this.fb=e,this.pqrsService=o,this.messageService=a,this.API_URI=u.N.API_URI,this.id="",this.display=!1,this.tipo_solicitudes=[],this.tipo_solicitudesVerificated=[],this.form=this.fb.group({tipo:["",n.kI.required]})}ngOnInit(){this.token=localStorage.getItem("token"),this.traerSolicitudes()}showEditar(e){this.id=e,this.display=!this.display}submit(){if(this.tipo_solicitudesVerificated.includes(this.form.value.tipo.toLowerCase().trim()))return this.messageService.add({severity:"error",summary:"Error",detail:"Este tipo de solicitud ya existe"});try{this.pqrsService.updatePqrs(`${this.API_URI}/pqrs/tipo/update/${this.id}/`,this.form.value,this.token).subscribe(e=>{this.form.reset(),this.traerSolicitudes(),this.showEditar(""),this.messageService.add({severity:"success",summary:"Success",detail:"Editado correctamente"})})}catch(e){console.log(e),this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema con la peticion"})}}traerSolicitudes(){this.tipo_solicitudes=[],this.tipo_solicitudesVerificated=[];try{this.pqrsService.getAllPqrs(`${this.API_URI}/pqrs/tipo/`,this.token).subscribe(e=>{this.tipo_solicitudes=e.data.results,e.data.results.map(o=>this.tipo_solicitudesVerificated.push(o.tipo.toLowerCase().trim()))})}catch(e){console.log(e),this.messageService.add({severity:"error",summary:"Error",detail:"Error al traer las solicitudes"})}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(n.qu),t.Y36(m.K),t.Y36(c.ez))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-editar"]],decls:12,vars:12,consts:[[1,"main"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["header","Editar momento",3,"visible","modal","draggable","resizable","visibleChange"],[1,"grid","dialog-form-crear","col-12","md:col-12","lg:col-12"],[3,"formGroup","submit"],["type","text","pInputText","","placeholder","Nombre","formControlName","tipo",1,"my-3"],["pButton","","pRipple","","type","submit","label","Editar",1,"p-button-warning",3,"disabled"],[2,"width","20%"],["pSortableColumn","id",2,"width","20%"],["field","id"],["pSortableColumn","pregunta_nombre",2,"width","20%"],["field","pregunta_nombre"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning","mx-3",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t._uU(2,"Editar tipo de solicitudes"),t.qZA(),t.TgZ(3,"p-table",1),t.YNc(4,q,11,0,"ng-template",2),t.YNc(5,A,9,3,"ng-template",3),t.qZA(),t.qZA(),t.TgZ(6,"p-dialog",4),t.NdJ("visibleChange",function(g){return o.display=g}),t.TgZ(7,"div",5),t.TgZ(8,"form",6),t.NdJ("submit",function(){return o.submit()}),t._UZ(9,"input",7),t._UZ(10,"button",8),t.qZA(),t.qZA(),t.qZA(),t._UZ(11,"p-toast")),2&e&&(t.xp6(3),t.Q6J("value",o.tipo_solicitudes)("tableStyle",t.DdM(10,C)),t.xp6(3),t.Akn(t.DdM(11,S)),t.Q6J("visible",o.display)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(2),t.Q6J("disabled",!o.form.valid))},directives:[p.iA,c.jx,p.lQ,p.fz,d.Hq,_.V,n._Y,n.JL,n.sg,n.Fj,h.o,n.JJ,n.u,l.FN],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}form[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:20px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:80%}"]}),i})();var b=s(7307);function x(i,r){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th",4),t._uU(2,"Indice"),t.qZA(),t.TgZ(3,"th",5),t._uU(4,"ID "),t._UZ(5,"p-sortIcon",6),t.qZA(),t.TgZ(6,"th",7),t._uU(7,"Nombre "),t._UZ(8,"p-sortIcon",8),t.qZA(),t.TgZ(9,"th",9),t._uU(10,"Eliminar"),t.qZA(),t.qZA())}function U(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"p-confirmPopup"),t.TgZ(9,"button",10),t.NdJ("click",function(a){const v=t.CHM(e).$implicit;return t.oxw().confirm(a,v.id)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=r.$implicit,o=r.rowIndex;t.xp6(2),t.Oqu(o),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.tipo)}}const P=function(){return{"min-width":"60rem"}};let E=(()=>{class i{constructor(e,o,a){this.pqrsService=e,this.messageService=o,this.confirmationService=a,this.API_URI=u.N.API_URI,this.tipo_solicitudes=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.traerPreguntas()}traerPreguntas(){this.tipo_solicitudes=[];try{this.pqrsService.getAllPqrs(`${this.API_URI}/pqrs/tipo/`,this.token).subscribe(e=>this.tipo_solicitudes=e.data.results)}catch(e){console.log(e)}}confirm(e,o){this.confirmationService.confirm({target:e.target,message:"\xbfSeguro que desea eliminar la pregunta?",icon:"pi pi-exclamation-triangle",accept:()=>{try{this.pqrsService.deletePqrs(`${this.API_URI}/pqrs/tipo/delete/${o}/`,this.token).subscribe(a=>(this.traerPreguntas(),this.messageService.add({severity:"success",summary:"Success",detail:"Eliminado correctamente !!!"})))}catch(a){return console.log(a),this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema en la consulta"})}},reject:()=>{}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.K),t.Y36(c.ez),t.Y36(c.YP))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-eliminar"]],decls:8,vars:3,consts:[[1,"main"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[2,"width","10%"],["pSortableColumn","id",2,"width","10%"],["field","id"],["pSortableColumn","pregunta_nombre",2,"width","20%"],["field","pregunta_nombre"],[2,"width","20%"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-danger","mx-3",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t._uU(2,"Editar preguntas"),t.qZA(),t.TgZ(3,"p-table",1),t.YNc(4,x,11,0,"ng-template",2),t.YNc(5,U,10,3,"ng-template",3),t.qZA(),t.qZA(),t._UZ(6,"p-toast"),t._UZ(7,"p-confirmPopup")),2&e&&(t.xp6(3),t.Q6J("value",o.tipo_solicitudes)("tableStyle",t.DdM(2,P)))},directives:[p.iA,c.jx,p.lQ,p.fz,b.P,d.Hq,l.FN],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]}),i})();function w(i,r){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th",4),t._uU(2,"Indice"),t.qZA(),t.TgZ(3,"th",4),t._uU(4,"ID"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Nombre"),t.qZA(),t.qZA())}function N(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.qZA()),2&i){const e=r.$implicit,o=r.rowIndex;t.xp6(2),t.Oqu(o),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.tipo)}}const M=function(){return{"min-width":"50rem"}},O=[{path:"ver",component:(()=>{class i{constructor(e){this.pqrsService=e,this.API_URI=u.N.API_URI}ngOnInit(){this.token=localStorage.getItem("token"),this.traerTipoSolicitudes()}traerTipoSolicitudes(){try{this.pqrsService.getAllPqrs(`${this.API_URI}/pqrs/tipo/`,this.token).subscribe(e=>{this.tipo_solicitudes=e.data.results})}catch(e){}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-ver"]],decls:7,vars:3,consts:[[1,"main"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[2,"width","10%"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t._uU(2,"Ver tipos de solicitudes"),t.qZA(),t.TgZ(3,"p-table",1),t.YNc(4,w,7,0,"ng-template",2),t.YNc(5,N,7,3,"ng-template",3),t.qZA(),t.qZA(),t._UZ(6,"p-toast")),2&e&&(t.xp6(3),t.Q6J("value",o.tipo_solicitudes)("tableStyle",t.DdM(2,M)))},directives:[p.iA,c.jx,l.FN],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]}),i})()},{path:"crear",component:y},{path:"editar",component:I},{path:"eliminar",component:E}];let J=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(O)],Z.Bz]}),i})();var R=s(4036);let Y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[T.ez,J,n.u5,n.UX,h.j,d.hJ,l.EV,p.U$,_.S,R.kW,b.n]]}),i})()}}]);