"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[712],{1712:($,f,r)=>{r.r(f),r.d(f,{SeccionModule:()=>j});var A=r(9808),Z=r(1813),s=r(3075),l=r(2340),e=r(7587),m=r(8529),a=r(9783),h=r(1424),p=r(845),d=r(1497);let y=(()=>{class i{constructor(t,n,c){this.clasificadosService=t,this.fb=n,this.messageService=c,this.API_URI=l.N.API_URI,this.secciones=[],this.form=this.fb.group({name:["",s.kI.required]})}ngOnInit(){this.token=localStorage.getItem("token"),this.traerSecciones()}onSubmit(){if(this.secciones.includes(this.form.value.name.trim().toLowerCase()))return this.messageService.add({severity:"error",summary:"Error",detail:"Esta seccion ya existe"});try{this.clasificadosService.create(`${this.API_URI}/advertisements/seccion/create/`,this.form.value,this.token).subscribe(t=>(this.form.reset(),this.messageService.add({severity:"success",summary:"Success",detail:"Creado correctamente !!"})))}catch(t){return console.log(t),this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema en la peticion"})}}traerSecciones(){this.secciones=[];try{this.clasificadosService.getAll(`${this.API_URI}/advertisements/seccion/`,this.token).subscribe(t=>{t.data.results.map(n=>this.secciones.push(n.name.trim().toLowerCase()))})}catch(t){console.log(t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.U),e.Y36(s.qu),e.Y36(a.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-crear"]],decls:7,vars:2,consts:[[1,"main"],[3,"formGroup","submit"],["type","text","placeholder","Nombre","pInputText","","formControlName","name"],["pButton","","pRipple","","type","submit","label","Crear solicitud",1,"p-button-success",3,"disabled"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1"),e._uU(2,"Crear seccion"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.onSubmit()}),e._UZ(4,"input",2),e._UZ(5,"button",3),e.qZA(),e.qZA(),e._UZ(6,"p-toast")),2&t&&(e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("disabled",!n.form.valid))},directives:[s._Y,s.JL,s.sg,s.Fj,h.o,s.JJ,s.u,p.Hq,d.FN],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}form[_ngcontent-%COMP%]{width:500px;border:1px solid rgba(128,128,128,.555);border-radius:10px;padding:20px;display:flex;justify-content:center;align-items:center;flex-direction:column}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%], p-dropdown[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin-top:10px;width:100%}"]}),i})();var u=r(6697),v=r(5315);function C(i,o){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",9),e._uU(2,"Indice"),e.qZA(),e.TgZ(3,"th",9),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"th",9),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"th",9),e._uU(8,"Editar"),e.qZA(),e.qZA())}function T(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"button",10),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw().showEditar(g.id)}),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=o.$implicit,n=o.rowIndex;e.xp6(2),e.Oqu(n),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name)}}const x=function(){return{"min-width":"60rem"}},S=function(){return{width:"600px",height:"500px"}};let I=(()=>{class i{constructor(t,n,c){this.fb=t,this.clasificadosService=n,this.messageService=c,this.API_URI=l.N.API_URI,this.id="",this.secciones=[],this.seccionesVerificated=[],this.display=!1,this.form=this.fb.group({name:["",s.kI.required]})}ngOnInit(){this.token=localStorage.getItem("token"),this.traerSecciones()}showEditar(t){this.id=t,this.display=!this.display}submit(){if(this.seccionesVerificated.includes(this.form.value.name.trim().toLowerCase()))return this.messageService.add({severity:"error",summary:"Error",detail:"Esta seccion ya existe"});try{this.clasificadosService.update(`${this.API_URI}/advertisements/seccion/update/${this.id}/`,this.form.value,this.token).subscribe(t=>(this.traerSecciones(),this.form.reset(),this.display=!1,this.messageService.add({severity:"success",summary:"Success",detail:"Editado correctamente !!!"})))}catch(t){console.log(t)}}traerSecciones(){this.secciones=[],this.seccionesVerificated=[];try{this.clasificadosService.getAll(`${this.API_URI}/advertisements/seccion/`,this.token).subscribe(t=>{this.secciones=t.data.results,t.data.results.map(n=>this.seccionesVerificated.push(n.name.trim().toLowerCase()))})}catch(t){console.log(t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(s.qu),e.Y36(m.U),e.Y36(a.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-editar"]],decls:12,vars:12,consts:[[1,"main"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["header","Editar seccion",3,"visible","modal","draggable","resizable","visibleChange"],[1,"grid","dialog-form-crear","col-12","md:col-12","lg:col-12"],[3,"formGroup","submit"],["type","text","placeholder","Nombre","pInputText","","formControlName","name"],["pButton","","pRipple","","type","submit","label","Editar seccion",1,"p-button-warning",3,"disabled"],[2,"width","20%"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning","mx-3",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1"),e._uU(2,"Editar secciones"),e.qZA(),e.TgZ(3,"p-table",1),e.YNc(4,C,9,0,"ng-template",2),e.YNc(5,T,9,3,"ng-template",3),e.qZA(),e.qZA(),e.TgZ(6,"p-dialog",4),e.NdJ("visibleChange",function(g){return n.display=g}),e.TgZ(7,"div",5),e.TgZ(8,"form",6),e.NdJ("submit",function(){return n.submit()}),e._UZ(9,"input",7),e._UZ(10,"button",8),e.qZA(),e.qZA(),e.qZA(),e._UZ(11,"p-toast")),2&t&&(e.xp6(3),e.Q6J("value",n.secciones)("tableStyle",e.DdM(10,x)),e.xp6(3),e.Akn(e.DdM(11,S)),e.Q6J("visible",n.display)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("disabled",!n.form.valid))},directives:[u.iA,a.jx,p.Hq,v.V,s._Y,s.JL,s.sg,s.Fj,h.o,s.JJ,s.u,d.FN],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}form[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:20px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], p-dropdown[_ngcontent-%COMP%]{margin-top:10px;width:80%}"]}),i})();var _=r(7307);function U(i,o){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",4),e._uU(2,"Indice"),e.qZA(),e.TgZ(3,"th",4),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"th",4),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"th",4),e._uU(8,"Eliminar"),e.qZA(),e.qZA())}function q(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"p-confirmPopup"),e.TgZ(9,"button",5),e.NdJ("click",function(c){const b=e.CHM(t).$implicit;return e.oxw().confirm(c,b.id)}),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=o.$implicit,n=o.rowIndex;e.xp6(2),e.Oqu(n),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name)}}const E=function(){return{"min-width":"60rem"}};let P=(()=>{class i{constructor(t,n,c){this.clasificadosService=t,this.messageService=n,this.confirmationService=c,this.API_URI=l.N.API_URI,this.secciones=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.traerSecciones()}traerSecciones(){this.secciones=[];try{this.clasificadosService.getAll(`${this.API_URI}/advertisements/seccion/`,this.token).subscribe(t=>this.secciones=t.data.results)}catch(t){console.log(t)}}confirm(t,n){this.confirmationService.confirm({target:t.target,message:"\xbfSeguro que desea eliminar esta seccion?",icon:"pi pi-exclamation-triangle",accept:()=>{try{this.clasificadosService.delete(`${this.API_URI}/advertisements/seccion/delete/${n}/`,this.token).subscribe(c=>(this.traerSecciones(),this.messageService.add({severity:"success",summary:"Success",detail:"Eliminado correctamente !!!"})))}catch(c){return console.log(c),this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema en la consulta"})}},reject:()=>{}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.U),e.Y36(a.ez),e.Y36(a.YP))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-eliminar"]],decls:8,vars:3,consts:[[1,"main"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[2,"width","10%"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-danger","mx-3",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1"),e._uU(2,"Eliminar secciones"),e.qZA(),e.TgZ(3,"p-table",1),e.YNc(4,U,9,0,"ng-template",2),e.YNc(5,q,10,3,"ng-template",3),e.qZA(),e.qZA(),e._UZ(6,"p-toast"),e._UZ(7,"p-confirmPopup")),2&t&&(e.xp6(3),e.Q6J("value",n.secciones)("tableStyle",e.DdM(2,E)))},directives:[u.iA,a.jx,_.P,p.Hq,d.FN],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]}),i})();function M(i,o){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th"),e._uU(2,"Indice"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Nombre"),e.qZA(),e.qZA())}function O(i,o){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.qZA()),2&i){const t=o.$implicit,n=o.rowIndex;e.xp6(2),e.Oqu(n),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name)}}const N=function(){return{"min-width":"50rem"}},J=[{path:"crear",component:y},{path:"ver",component:(()=>{class i{constructor(t){this.clasificadosService=t,this.API_URI=l.N.API_URI,this.secciones=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.traerSecciones()}traerSecciones(){try{this.clasificadosService.getAll(`${this.API_URI}/advertisements/seccion/`,this.token).subscribe(t=>this.secciones=t.data.results)}catch(t){console.log(t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ver"]],decls:6,vars:3,consts:[[1,"main"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h1"),e._uU(2,"Ver Secciones"),e.qZA(),e.TgZ(3,"p-table",1),e.YNc(4,M,7,0,"ng-template",2),e.YNc(5,O,7,3,"ng-template",3),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("value",n.secciones)("tableStyle",e.DdM(2,N)))},directives:[u.iA,a.jx],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]}),i})()},{path:"editar",component:I},{path:"eliminar",component:P}];let R=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(J)],Z.Bz]}),i})();var w=r(4036),Y=r(3407);let j=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[A.ez,R,s.u5,s.UX,h.j,p.hJ,d.EV,u.U$,v.S,w.kW,_.n,Y.A]]}),i})()}}]);