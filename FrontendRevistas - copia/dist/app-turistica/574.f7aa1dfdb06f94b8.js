"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[574],{5574:(P,u,r)=>{r.r(u),r.d(u,{PersonasModule:()=>I});var g=r(9808),m=r(1813),e=r(7587);let f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-crear"]],decls:2,vars:0,template:function(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1,"crear works!"),e.qZA())},styles:[""]}),n})(),h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editar"]],decls:2,vars:0,template:function(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1,"editar works!"),e.qZA())},styles:[""]}),n})();var C=r(4738),i=r(3075),c=r(1424),d=r(4036),l=r(6697),Z=r(9783);const T=["dt"];function v(n,o){1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"th",12),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th",13),e._uU(4,"Nombres"),e.qZA(),e.TgZ(5,"th",14),e._uU(6,"Apellidos"),e.qZA(),e.TgZ(7,"th",15),e._uU(8,"Email"),e.qZA(),e.TgZ(9,"th",16),e._uU(10,"Usuario"),e.qZA(),e.TgZ(11,"th",17),e._uU(12,"Rol"),e.qZA(),e.qZA())}function A(n,o){if(1&n&&(e.TgZ(0,"tr",18),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.qZA()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.userId.first_name),e.xp6(2),e.Oqu(t.userId.last_name),e.xp6(2),e.Oqu(t.userId.email),e.xp6(2),e.Oqu(t.userId.username),e.xp6(2),e.Oqu(t.rolesId.name)}}const U=[{path:"ver",component:(()=>{class n{constructor(t){this.usuariosService=t,this.personas=[],this.roles=[],this.users=[],this.searchValue="",this.filterOptions=[],this.globalFilterFields=["id","userId.first_name","userId.last_name","userId.email","userId.username","rolesId.name"]}ngOnInit(){this.getUsuariosRoles(),this.getUsuarios(),this.getUsers(),this.getroles()}getroles(){this.usuariosService.getRoles().subscribe(t=>{this.filterOptions=t},t=>{console.error(t)})}getUsuarios(){this.usuariosService.getAllUsuarios().subscribe(t=>{this.personas=t},t=>{console.error(t)})}getUsers(){this.usuariosService.getUsers().subscribe(t=>{this.users=t},t=>{console.error(t)})}getUsuariosRoles(){this.usuariosService.getAllRoles().subscribe(t=>{this.roles=t},t=>{console.error(t)})}filterByRole(t){var s,a;"Todos"===t?null===(s=this.dt)||void 0===s||s.filter(null,"rolesId.name","equals"):null===(a=this.dt)||void 0===a||a.filter(t,"rolesId.name","equals")}filterTable(){this.dt&&this.dt.filterGlobal(this.searchValue,"contains")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ver"]],viewQuery:function(t,s){if(1&t&&e.Gf(T,5),2&t){let a;e.iGM(a=e.CRH())&&(s.dt=a.first)}},decls:19,vars:8,consts:[[1,"personas-title"],[2,"background-color","#f2f2f2","padding","5px","border-radius","5px"],[2,"font-size","16px","color","#333","text-align","center"],[1,"p-personas-controls"],[1,"p-personas-search"],["type","text","pInputText","","placeholder","Buscar",3,"ngModel","ngModelChange","input"],[1,"p-personas-filter"],["placeholder","seleccionar...","optionLabel","name","optionValue","name",3,"options","showClear","onChange"],[3,"value","rows","paginator","responsive","globalFilterFields"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","id"],["pSortableColumn","userId.first_name"],["pSortableColumn","userId.last_name"],["pSortableColumn","userId.email"],["pSortableColumn","userId.username"],["pSortableColumn","rolesId.name"],["pSelectableRow",""]],template:function(t,s){1&t&&(e._UZ(0,"br"),e._UZ(1,"br"),e.TgZ(2,"h2",0),e._uU(3,"USUARIOS"),e.qZA(),e._UZ(4,"br"),e._UZ(5,"br"),e.TgZ(6,"div",1),e.TgZ(7,"p",2),e._uU(8," Tenga en cuenta que en este listado solo aparecer\xe1n usuarios que tengan roles asignados (que no sean usuarios an\xf3nimos). "),e.qZA(),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"div",3),e.TgZ(11,"div",4),e.TgZ(12,"input",5),e.NdJ("ngModelChange",function(p){return s.searchValue=p})("input",function(){return s.filterTable()}),e.qZA(),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"p-dropdown",7),e.NdJ("onChange",function(p){return s.filterByRole(p.value)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"p-table",8,9),e.YNc(17,v,13,0,"ng-template",10),e.YNc(18,A,13,6,"ng-template",11),e.qZA()),2&t&&(e.xp6(12),e.Q6J("ngModel",s.searchValue),e.xp6(2),e.Q6J("options",s.filterOptions)("showClear",!0),e.xp6(1),e.Q6J("value",s.roles)("rows",10)("paginator",!0)("responsive",!0)("globalFilterFields",s.globalFilterFields))},directives:[i.Fj,c.o,i.JJ,i.On,d.Lt,l.iA,Z.jx,l.lQ,l.Ei],styles:[".personas-title[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin-bottom:20px;text-align:center;color:#fa6357;text-transform:uppercase;letter-spacing:2px}.p-personas-title[_ngcontent-%COMP%]{color:#333;font-size:24px;margin-bottom:20px}.p-table[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.p-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333;font-weight:700;padding:10px;text-align:left}.p-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ccc}.p-personas-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:750px}.p-personas-filter[_ngcontent-%COMP%]{width:200px}.p-personas-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:1rem}"]}),n})()},{path:"crear",component:f},{path:"editar",component:h},{path:"eliminar",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-eliminar"]],decls:2,vars:0,template:function(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1,"eliminar works!"),e.qZA())},styles:[""]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(U)],m.Bz]}),n})();var x=r(845),y=r(657),M=r(1497),O=r(5315),q=r(7307);let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,b,i.u5,i.UX,l.U$,c.j,x.hJ,y.kK,M.EV,O.S,q.n,d.kW]]}),n})()}}]);