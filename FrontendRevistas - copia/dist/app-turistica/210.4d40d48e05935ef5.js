"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[210],{2210:(J,p,i)=>{i.r(p),i.d(p,{RolesModule:()=>k});var s=i(9808),l=i(3075),g=i(1813),e=i(7587),u=i(1424),m=i(657),d=i(845);let f=(()=>{class o{constructor(t){this.fb=t,this.blockSpecial=/^[a-zA-Z0-9 ]*$/,this.form=this.fb.group({nombre:["",[l.kI.required,l.kI.pattern(this.blockSpecial)]]})}ngOnInit(){}crear(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-crear"]],decls:8,vars:3,consts:[[1,"grid","dialog-form-crear","col-12","md:col-12","lg:col-12"],[3,"formGroup","submit"],["icon","pi pi-plus",1,"my-3"],["type","text","pInputText","","placeholder","Nombre","formControlName","nombre",1,"my-3",3,"pKeyFilter"],["id","btnCrear","pButton","","pRipple","","type","submit","label","Guardar",1,"p-button-success",3,"disabled"]],template:function(t,n){1&t&&(e._UZ(0,"br"),e._UZ(1,"br"),e.TgZ(2,"div",0),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.crear()}),e.TgZ(4,"h3",2),e._uU(5,"Crear rol"),e.qZA(),e._UZ(6,"input",3),e._UZ(7,"button",4),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("pKeyFilter",n.blockSpecial),e.xp6(1),e.Q6J("disabled",!n.form.valid))},directives:[l._Y,l.JL,l.sg,l.Fj,u.o,l.JJ,l.u,m.Fr,d.Hq],styles:[""]}),o})();var h=i(4765),C=i(5330),b=i(5315);function _(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",8),e.TgZ(1,"div",9),e.TgZ(2,"div",10),e.TgZ(3,"b"),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div",11),e.TgZ(6,"p"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.qZA(),e.TgZ(12,"div",12),e.TgZ(13,"button",13),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().showEditDialog(c)}),e.qZA(),e.TgZ(14,"button",14),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().showDeleteDialog(c)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(3),e.hij("Creado en: ",e.xi3(8,3,t.createdAt,"dd/MM/yyyy"),""),e.xp6(3),e.hij("Actualizado en: ",e.xi3(11,6,t.updateAt,"dd/MM/yyyy"),"")}}function x(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",15),e.TgZ(2,"label",16),e.TgZ(3,"b"),e._uU(4,"Nombre:"),e.qZA(),e.qZA(),e.TgZ(5,"div"),e.TgZ(6,"span",17),e._UZ(7,"i",18),e.TgZ(8,"input",19),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().selectedRole.name=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",20),e.TgZ(10,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveRole()}),e.qZA(),e.TgZ(11,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancelEdit()}),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.selectedRole.name)}}function Z(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"p"),e._uU(2,"\xbfEst\xe1s seguro de que deseas eliminar este rol?"),e.qZA(),e.TgZ(3,"div",20),e.TgZ(4,"button",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.deleteRole(a.selectedRole.id)}),e.qZA(),e.TgZ(5,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancelDelete()}),e.qZA(),e.qZA(),e.BQk()}}const M=function(){return{width:"25vw",top:"30px"}},v=[{path:"ver",component:(()=>{class o{constructor(t,n){this.rolesService=t,this.dialogService=n,this.roles=[],this.selectedRole={},this.isCreating=!1,this.isEditing=!1,this.dialogVisible=!1,this.dialogType="",this.dialogHeader=""}ngOnInit(){this.loadRoles()}loadRoles(){this.rolesService.getRoles().subscribe(t=>{this.roles=t})}createRole(){this.showCreateDialog()}editRole(t){this.showEditDialog(t)}saveRole(){const t={name:this.selectedRole.name,status:this.selectedRole.status};"create"===this.dialogType?this.rolesService.createRole(t).subscribe(()=>{this.loadRoles(),this.closeDialog()}):"edit"===this.dialogType&&this.rolesService.updateRole(this.selectedRole.id,t).subscribe(()=>{this.loadRoles(),this.closeDialog()})}cancelEdit(){this.closeDialog()}deleteRole(t){this.rolesService.deleteRole(t).subscribe(()=>{this.loadRoles(),this.closeDialog()})}showCreateDialog(){this.dialogType="create",this.dialogHeader="Crear Rol",this.selectedRole={name:""},this.dialogVisible=!0}showEditDialog(t){this.dialogType="edit",this.dialogHeader="Editar Rol",this.selectedRole=Object.assign({},t),this.dialogVisible=!0}showDeleteDialog(t){this.dialogType="delete",this.dialogHeader="Eliminar Rol",this.selectedRole=Object.assign({},t),this.dialogVisible=!0}cancelDelete(){this.closeDialog()}closeDialog(){this.dialogVisible=!1,this.dialogType="",this.dialogHeader="",this.selectedRole={}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.f),e.Y36(C.xA))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ver"]],decls:13,vars:15,consts:[[1,"roles-container"],[1,"roles-title"],[1,"create-button-container"],["pButton","","type","button","icon","pi pi-plus","label","Crear Rol",1,"p-button-success","p-button-outlined","create-role-button",3,"click"],[1,"roles-list"],["class","role-card",4,"ngFor","ngForOf"],[3,"header","visible","baseZIndex","modal","responsive","styleClass","showHeader","closable","dismissableMask","visibleChange"],[4,"ngIf"],[1,"role-card"],[1,"p-card"],[1,"role-header"],[1,"role-info"],[1,"role-actions"],["pButton","","type","button","icon","pi pi-pencil","label","Editar",1,"p-button-outlined","p-button-secondary",3,"click"],["pButton","","type","button","icon","pi pi-trash","label","Eliminar",1,"p-button-outlined","p-button-danger",3,"click"],[1,"input-container"],["for","roleName"],[1,"p-input-icon-left"],[1,"pi","pi-user"],["id","roleName","placeholder","Nombre del Rol",1,"p-inputtext","p-input-with-icon",3,"ngModel","ngModelChange"],[1,"button-container"],["pButton","","icon","pi pi-check","label","Guardar",1,"p-button-rounded","p-button-success",3,"click"],["pButton","","icon","pi pi-times","label","Cancelar",1,"p-button-rounded","p-button-danger",3,"click"],["pButton","","icon","pi pi-check","label","Confirmar",1,"p-button-rounded","p-button-success",3,"click"]],template:function(t,n){1&t&&(e._UZ(0,"br"),e._UZ(1,"br"),e.TgZ(2,"div",0),e.TgZ(3,"h2",1),e._uU(4,"Roles"),e.qZA(),e._UZ(5,"br"),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"button",3),e.NdJ("click",function(){return n.showCreateDialog()}),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.YNc(9,_,15,9,"div",5),e.qZA(),e.TgZ(10,"p-dialog",6),e.NdJ("visibleChange",function(c){return n.dialogVisible=c}),e.YNc(11,x,12,1,"ng-container",7),e.YNc(12,Z,6,0,"ng-container",7),e.qZA()),2&t&&(e.xp6(9),e.Q6J("ngForOf",n.roles),e.xp6(1),e.Akn(e.DdM(14,M)),e.s9C("header",n.dialogHeader),e.Q6J("visible",n.dialogVisible)("baseZIndex",1e4)("modal",!0)("responsive",!0)("styleClass","custom-dialog")("showHeader",!1)("closable",!1)("dismissableMask",!1),e.xp6(1),e.Q6J("ngIf","create"===n.dialogType||"edit"===n.dialogType),e.xp6(1),e.Q6J("ngIf","delete"===n.dialogType))},directives:[d.Hq,s.sg,b.V,s.O5,l.Fj,l.JJ,l.On],pipes:[s.uU],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0}.roles-title[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin-bottom:20px;text-align:center;color:#fa6357;text-transform:uppercase;letter-spacing:2px}.roles-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.create-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.create-role-button[_ngcontent-%COMP%]{width:300px}.roles-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.role-card[_ngcontent-%COMP%]{flex-basis:calc(40% - 20px);margin:10px}.p-card[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;box-shadow:0 2px 4px #0003;transition:transform .2s}.p-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 2px 4px #0006}.p-button-secondary[_ngcontent-%COMP%]{margin-right:5%;margin-left:30%;background-color:#f0ad4e;border-color:#eea236}.p-button-danger[_ngcontent-%COMP%]{background-color:#d9534f;border-color:#d43f3a}.p-button-success[_ngcontent-%COMP%]{background-color:#5cb85c;border-color:#4cae4c}.custom-dialog[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;border-radius:8px;overflow:hidden}.custom-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]{background-color:#4285f4;color:#fff;border:none;padding:1rem}.custom-dialog[_ngcontent-%COMP%]   .ui-dialog-content[_ngcontent-%COMP%]{padding:1.5rem}.custom-dialog[_ngcontent-%COMP%]   .ui-dialog-footer[_ngcontent-%COMP%]{background-color:#f0f0f0;border:none;padding:1rem;text-align:right}.custom-dialog[_ngcontent-%COMP%]{max-width:400px;border-radius:8px;font-family:Arial,sans-serif}.custom-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]{background-color:#4285f4;color:#fff;border:none;padding:1rem;border-radius:8px 8px 0 0}.custom-dialog[_ngcontent-%COMP%]   .ui-dialog-content[_ngcontent-%COMP%]{padding:1.5rem;border-radius:0 0 8px 8px;background-color:#f8f8f8;box-shadow:0 2px 4px #0000001a}.custom-dialog[_ngcontent-%COMP%]   .ui-dialog-footer[_ngcontent-%COMP%]{background-color:#f0f0f0;border:none;padding:1rem;text-align:right;border-radius:0 0 8px 8px}.custom-dialog[_ngcontent-%COMP%]   .ui-dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem}.p-button-success.custom-dialog-button[_ngcontent-%COMP%]{background-color:#5cb85c;border-color:#4cae4c;color:#fff}.p-button-danger.custom-dialog-button[_ngcontent-%COMP%]{background-color:#d9534f;border-color:#d43f3a;color:#fff}.p-inputtext[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:4px}.p-input-with-icon[_ngcontent-%COMP%]{padding-left:2rem}.p-button-rounded[_ngcontent-%COMP%]{border-radius:20px;margin:10px}.p-inputtext.p-input-with-icon[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.role-actions[_ngcontent-%COMP%]{margin:0}"]}),o})()},{path:"crear",component:f},{path:"eliminar",component:(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-eliminar"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"eliminar works!"),e.qZA())},styles:[""]}),o})()}];let T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.Bz.forChild(v)],g.Bz]}),o})();var y=i(6697),O=i(1497),A=i(1874),R=i(7307),P=i(4297);let k=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[],imports:[[s.ez,T,l.u5,l.UX,y.U$,u.j,d.hJ,m.kK,O.EV,b.S,R.n,P.d,A.$9]]}),o})()}}]);